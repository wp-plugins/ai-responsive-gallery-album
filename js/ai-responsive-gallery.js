window.Modernizr=function(e,t,i){function n(e){y.cssText=e}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var n in e){var o=e[n];if(!a(o,"-")&&y[o]!==i)return"pfx"==t?o:!0}return!1}function l(e,t,n){for(var a in e){var r=t[e[a]];if(r!==i)return n===!1?e[a]:o(r,"function")?r.bind(n||t):r}return!1}function s(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+C.join(n+" ")+n).split(" ");return o(t,"string")||o(t,"undefined")?r(a,t):(a=(e+" "+w.join(n+" ")+n).split(" "),l(a,t,i))}var d,c,u,p="2.6.2",h={},f=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",C=_.split(" "),w=_.toLowerCase().split(" "),x={},I=[],k=I.slice,E=function(e,i,n,o){var a,r,l,s,d=t.createElement("div"),c=t.body,u=c||t.createElement("body");if(parseInt(n,10))for(;n--;)l=t.createElement("div"),l.id=o?o[n]:g+(n+1),d.appendChild(l);return a=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),d.id=g,(c?d:u).innerHTML+=a,u.appendChild(d),c||(u.style.background="",u.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(u)),r=i(d,e),c?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),m.style.overflow=s),!!r},S={}.hasOwnProperty;u=o(S,"undefined")||o(S.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return S.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=k.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var a=new o,r=t.apply(a,i.concat(k.call(arguments)));return Object(r)===r?r:a}return t.apply(e,i.concat(k.call(arguments)))};return n}),x.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:E(["@media (",b.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},x.cssanimations=function(){return s("animationName")},x.csstransitions=function(){return s("transition")};for(var $ in x)u(x,$)&&(c=$.toLowerCase(),h[c]=x[$](),I.push((h[c]?"":"no-")+c));return h.addTest=function(e,t){if("object"==typeof e)for(var n in e)u(e,n)&&h.addTest(n,e[n]);else{if(e=e.toLowerCase(),h[e]!==i)return h;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(m.className+=" "+(t?"":"no-")+e),h[e]=t}return h},n(""),v=d=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function a(e,i,n){if(i||(i=t),c)return i.createElement(e);n||(n=o(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():h.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),a.canHaveChildren&&!p.test(e)?n.frag.appendChild(a):a}function r(e,i){if(e||(e=t),c)return e.createDocumentFragment();i=i||o(e);for(var a=i.frag.cloneNode(),r=0,l=n(),s=l.length;s>r;r++)a.createElement(l[r]);return a}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?a(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function s(e){e||(e=t);var n=o(e);return v.shivCSS&&!d&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),c||l(e,n),e}var d,c,u=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",d="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){d=!0,c=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:c,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:s,createElement:a,createDocumentFragment:r};e.html5=v,s(t)}(this,t),h._version=p,h._prefixes=b,h._domPrefixes=w,h._cssomPrefixes=C,h.testProp=function(e){return r([e])},h.testAllProps=s,h.testStyles=E,h.prefixed=function(e,t,i){return t?s(e,t,i):s(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+I.join(" "):""),h}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==g.call(e)}function o(e){return"string"==typeof e}function a(){}function r(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function l(){var e=v.shift();y=1,e?e.t?f(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),l()):y=0}function s(e,i,n,o,a,s,d){function c(t){if(!h&&r(u.readyState)&&(b.r=h=1,!y&&l(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&f(function(){C.removeChild(u)},50);for(var n in E[i])E[i].hasOwnProperty(n)&&E[i][n].onload()}}var d=d||p.errorTimeout,u=t.createElement(e),h=0,g=0,b={t:n,s:i,e:a,a:s,x:d};1===E[i]&&(g=1,E[i]=[]),"object"==e?u.data=i:(u.src=i,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){c.call(this,g)},v.splice(o,0,b),"img"!=e&&(g||2===E[i]?(C.insertBefore(u,_?null:m),f(c,d)):E[i].push(u))}function d(e,t,i,n,a){return y=0,t=t||"j",o(e)?s("c"==t?x:w,e,t,this.i++,i,n,a):(v.splice(this.i++,0,e),1==v.length&&l()),this}function c(){var e=p;return e.loader={load:d,i:0},e}var u,p,h=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in h.style,_=b&&!!t.createRange().compareNode,C=_?h:m.parentNode,h=e.opera&&"[object Opera]"==g.call(e.opera),h=!!t.attachEvent&&!h,w=b?"object":h?"script":"img",x=h?"script":w,I=Array.isArray||function(e){return"[object Array]"==g.call(e)},k=[],E={},S={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,i,n,e=e.split("!"),o=k.length,a=e.pop(),r=e.length,a={url:a,origUrl:a,prefixes:e};for(i=0;r>i;i++)n=e[i].split("="),(t=S[n.shift()])&&(a=t(a,n));for(i=0;o>i;i++)a=k[i](a);return a}function r(e,o,a,r,l){var s=t(e),d=s.autoCallback;s.url.split(".").pop().split("?").shift(),s.bypass||(o&&(o=n(o)?o:o[e]||o[r]||o[e.split("/").pop().split("?")[0]]),s.instead?s.instead(e,o,a,r,l):(E[s.url]?s.noexec=!0:E[s.url]=1,a.load(s.url,s.forceCSS||!s.forceJS&&"css"==s.url.split(".").pop().split("?").shift()?"c":i,s.noexec,s.attrs,s.timeout),(n(o)||n(d))&&a.load(function(){c(),o&&o(s.origUrl,l,r),d&&d(s.origUrl,l,r),E[s.url]=2})))}function l(e,t){function i(e,i){if(e){if(o(e))i||(u=function(){var e=[].slice.call(arguments);p.apply(this,e),h()}),r(e,u,t,0,d);else if(Object(e)===e)for(s in l=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(s)&&(!i&&!--l&&(n(u)?u=function(){var e=[].slice.call(arguments);p.apply(this,e),h()}:u[s]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),h()}}(p[s])),r(e[s],u,t,s,d))}else!i&&h()}var l,s,d=!!e.test,c=e.load||e.both,u=e.callback||a,p=u,h=e.complete||a;i(d?e.yep:e.nope,!!c),c&&i(c)}var s,d,u=this.yepnope.loader;if(o(e))r(e,0,u,0);else if(I(e))for(s=0;s<e.length;s++)d=e[s],o(d)?r(d,0,u,0):I(d)?p(d):Object(d)===d&&l(d,u);else Object(e)===e&&l(e,u)},p.addPrefix=function(e,t){S[e]=t},p.addFilter=function(e){k.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=c(),e.yepnope.executeStack=l,e.yepnope.injectJs=function(e,i,n,o,s,d){var c,u,h=t.createElement("script"),o=o||p.errorTimeout;h.src=e;for(u in n)h.setAttribute(u,n[u]);i=d?l:i||a,h.onreadystatechange=h.onload=function(){!c&&r(h.readyState)&&(c=1,i(),h.onload=h.onreadystatechange=null)},f(function(){c||(c=1,i(1))},o),s?h.onload():m.parentNode.insertBefore(h,m)},e.yepnope.injectCss=function(e,i,n,o,r,s){var d,o=t.createElement("link"),i=s?l:i||a;o.href=e,o.rel="stylesheet",o.type="text/css";for(d in n)o.setAttribute(d,n[d]);r||(m.parentNode.insertBefore(o,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t,i){"use strict";var n,o,a=e.event;n=a.special.debouncedresize={setup:function(){e(this).on("resize",n.handler)},teardown:function(){e(this).off("resize",n.handler)},handler:function(e,t){var i=this,r=arguments,l=function(){e.type="debouncedresize",a.dispatch.apply(i,r)};o&&clearTimeout(o),t?l():o=setTimeout(l,n.threshold)},threshold:150};var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(t){function n(){var i=e(u),n=e(p);l&&(p.length?l.reject(d,i,n):l.resolve(d)),e.isFunction(t)&&t.call(a,d,i,n)}function o(t,i){t.src!==r&&-1===e.inArray(t,c)&&(c.push(t),i?p.push(t):u.push(t),e.data(t,"imagesLoaded",{isBroken:i,src:t.src}),s&&l.notifyWith(e(t),[i,d,e(u),e(p)]),d.length===c.length&&(setTimeout(n),d.unbind(".imagesLoaded")))}var a=this,l=e.isFunction(e.Deferred)?e.Deferred():0,s=e.isFunction(l.notify),d=a.find("img").add(a.filter("img")),c=[],u=[],p=[];return e.isPlainObject(t)&&e.each(t,function(e,i){"callback"===e?t=i:l&&l[e](i)}),d.length?d.bind("load.imagesLoaded error.imagesLoaded",function(e){o(e.target,"error"===e.type)}).each(function(t,n){var a=n.src,l=e.data(n,"imagesLoaded");return l&&l.src===a?(o(n,l.isBroken),void 0):n.complete&&n.naturalWidth!==i?(o(n,0===n.naturalWidth||0===n.naturalHeight),void 0):((n.readyState||n.complete)&&(n.src=r,n.src=a),void 0)}):n(),l?l.promise(a):a};var l=e(t),s=t.Modernizr;e.Stapel=function(t,i){this.el=e(i),this._init(t)},e.Stapel.defaults={gutter:40,pileAngles:2,pileAnimation:{openSpeed:400,openEasing:"ease-in-out",closeSpeed:400,closeEasing:"ease-in-out"},otherPileAnimation:{openSpeed:400,openEasing:"ease-in-out",closeSpeed:350,closeEasing:"ease-in-out"},delay:0,randomAngle:!1,onLoad:function(){return!1},onBeforeOpen:function(){return!1},onAfterOpen:function(){return!1},onBeforeClose:function(){return!1},onAfterClose:function(){return!1}},e.Stapel.prototype={_init:function(t){this.options=e.extend(!0,{},e.Stapel.defaults,t),this._config();var i=this;this.el.imagesLoaded(function(){i.options.onLoad(),i._layout(),i._initEvents()})},_config:function(){this.support=s.csstransitions;var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},i={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};this.support&&(this.transEndEventName=t[s.prefixed("transition")]+".cbpFWSlider",this.transformName=i[s.prefixed("transform")]),this.spread=!1,this.items=this.el.children("li").hide(),this.close=e("#tp-close")},_getSize:function(){this.elWidth=this.el.outerWidth(!0)},_initEvents:function(){var t=this;l.on("debouncedresize.stapel",function(){t._resize()}),this.items.on("click.stapel",function(){var i=e(this);return!t.spread&&i.data("isPile")?(t.spread=!0,t.pileName=i.data("pileName"),t.options.onBeforeOpen(t.pileName),t._openPile(),!1):void 0})},_layout:function(){this._piles(),this.itemSize={width:this.items.outerWidth(!0),height:this.items.outerHeight(!0)},this.items.remove(),this._setInitialStyle(),this.el.css("min-width",this.itemSize.width+this.options.gutter),this._getSize(),this._setItemsPosition(),this.items=this.el.children("li").show(),this.itemsCount=this.items.length},_piles:function(){this.piles={};var t,i=this,n=0;this.items.each(function(){for(var o=e(this),a=o.attr("data-pile")||"nopile-"+o.index(),r=a.split(","),l=0,s=r.length;s>l;++l){var d=e.trim(r[l]);t=i.piles[d],t||(t=i.piles[d]={elements:[],position:{left:0,top:0},index:n},++n);var c=o.clone().get(0);t.elements.push({el:c,finalPosition:{left:0,top:0}}),e(c).appendTo(i.el)}})},_setInitialStyle:function(){for(var t in this.piles)for(var i=this.piles[t],n=0,o=i.elements.length;o>n;++n){var a=e(i.elements[n].el),r={transform:"rotate(0deg)"};if(this._applyInitialTransition(a),n===o-2)r={transform:"rotate("+this.options.pileAngles+"deg)"};else if(n===o-3)r={transform:"rotate(-"+this.options.pileAngles+"deg)"};else if(n!==o-1){var l={visibility:"hidden"};a.css(l).data("extraStyle",l)}else"nopile"!==t.substr(0,6)&&a.data("front",!0).append('<div class="tp-title"><span>'+t+"</span><span>"+o+"</span></div>");a.css(r).data({initialStyle:r,pileName:t,pileCount:o,shadow:a.css("box-shadow"),isPile:"nopile"===t.substr(0,6)?!1:!0})}},_applyInitialTransition:function(e){this.support&&e.css("transition","left 400ms ease-in-out, top 400ms ease-in-out")},_setItemsPosition:function(){var t,i,n=0,o=0,a=0,r=0;for(var l in this.piles){var s,d,c=this.piles[l],u=this.itemSize.width+this.options.gutter,p=0,h=0;n+u<=this.elWidth?(t=n,i=o,n+=u):(0===a&&(a=Math.ceil((this.elWidth-n+this.options.gutter)/2)),o+=this.itemSize.height+this.options.gutter,t=0,i=o,n=u),c.position.left=t,c.position.top=i;for(var f=0,m=c.elements.length;m>f;++f){var g=c.elements[f],v=g.finalPosition;p+u<=this.elWidth?(s=p,d=h,p+=u):(h+=this.itemSize.height+this.options.gutter,s=0,d=h,p=u),v.left=s,v.top=d;var y=e(g.el);l!==this.pileName?y.css({left:c.position.left,top:c.position.top}):(r=g.finalPosition.top,y.css({left:g.finalPosition.left,top:r}))}}r=this.spread?r:o,this.el.css({marginLeft:a,height:r+this.itemSize.height})},_openPile:function(){if(!this.spread)return!1;var t;for(var i in this.piles)for(var n=this.piles[i],o=0,a=0,r=n.elements.length;r>a;++a){var l=n.elements[a],s=e(l.el),d=s.find("img"),c=i===this.pileName?{zIndex:9999,visibility:"visible",transition:this.support?"left "+this.options.pileAnimation.openSpeed+"ms "+(r-a-1)*this.options.delay+"ms "+this.options.pileAnimation.openEasing+", top "+this.options.pileAnimation.openSpeed+"ms "+(r-a-1)*this.options.delay+"ms "+this.options.pileAnimation.openEasing+", "+this.transformName+" "+this.options.pileAnimation.openSpeed+"ms "+(r-a-1)*this.options.delay+"ms "+this.options.pileAnimation.openEasing:"none"}:{zIndex:1,transition:this.support?"opacity "+this.options.otherPileAnimation.closeSpeed+"ms "+this.options.otherPileAnimation.closeEasing:"none"};i===this.pileName?(s.data("front")&&s.find("div.tp-title").hide(),r-1>a&&d.css("visibility","visible"),t=l.finalPosition,t.transform=this.options.randomAngle&&a!==n.index?"rotate("+Math.floor(11*Math.random()-5)+"deg)":"none",this.support||s.css("transform","none"),r-3>a&&s.css("box-shadow","none")):r-1>a&&d.css("visibility","hidden"),s.css(c);var u=this;i===this.pileName?this._applyTransition(s,t,this.options.pileAnimation.openSpeed,function(){var t=this.target||this.nodeName;if("LI"===t){var i=e(this);i.css("box-shadow",i.data("shadow")),u.support&&i.off(u.transEndEventName),++o,o===i.data("pileCount")&&(e(document).one("mousemove.stapel",function(){u.el.addClass("tp-open")}),u.options.onAfterOpen(u.pileName,o))}}):this._applyTransition(s,{opacity:0},this.options.otherPileAnimation.closeSpeed)}this.el.css("height",t.top+this.itemSize.height)},_closePile:function(){var t=this;if(this.spread){this.spread=!1,this.options.onBeforeClose(this.pileName),this.el.removeClass("tp-open");var i;for(var n in this.piles)for(var o=this.piles[n],a=0,r=0,l=o.elements.length;l>r;++r){var s=e(o.elements[r].el),d=n===this.pileName?{transition:this.support?"left "+this.options.pileAnimation.closeSpeed+"ms "+this.options.pileAnimation.closeEasing+", top "+this.options.pileAnimation.closeSpeed+"ms "+this.options.pileAnimation.closeEasing+", "+this.transformName+" "+this.options.pileAnimation.closeSpeed+"ms "+this.options.pileAnimation.closeEasing:"none"}:{transition:this.support?"opacity "+this.options.otherPileAnimation.openSpeed+"ms "+this.options.otherPileAnimation.openEasing:"none"};s.css(d),i=o.position,n===this.pileName&&(e.extend(i,s.data("initialStyle")),l-3>r&&s.css("box-shadow","none")),n===this.pileName?this._applyTransition(s,i,this.options.pileAnimation.closeSpeed,function(){var i=this.target||this.nodeName;if("LI"===i){var n=e(this),o=n.data("extraStyle");n.css("box-shadow",n.data("shadow")),t.support?(n.off(t.transEndEventName),t._applyInitialTransition(n)):n.css(n.data("initialStyle")),o&&n.css(o),++a,n.data("front")&&n.find("div.tp-title").show(),a===n.data("pileCount")&&t.options.onAfterClose(n.data("pileName"),a)}}):this._applyTransition(s,{opacity:1},this.options.otherPileAnimation.openSpeed,function(){var i=this.target||this.nodeName;if("LI"===i){var n=e(this);n.index()<l-1&&n.find("img").css("visibility","visible"),t.support&&(n.off(t.transEndEventName),t._applyInitialTransition(n))}})}this.pileName="",this.el.css("height",i.top+this.itemSize.height)}return!1},_resize:function(){this._getSize(),this._setItemsPosition()},_applyTransition:function(t,i,n,o){e.fn.applyStyle=this.support?e.fn.css:e.fn.animate,o&&this.support&&t.on(this.transEndEventName,o),o=o||function(){return!1},t.stop().applyStyle(i,e.extend(!0,[],{duration:n+"ms",complete:o}))},closePile:function(){this._closePile()}};var d=function(e){t.console&&t.console.error(e)};e.fn.stapel=function(t){var i=e.data(this,"stapel");if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){return i?e.isFunction(i[t])&&"_"!==t.charAt(0)?(i[t].apply(i,n),void 0):(d("no such method '"+t+"' for stapel instance"),void 0):(d("cannot call methods on stapel prior to initialization; attempted to call method '"+t+"'"),void 0)})}else this.each(function(){i?i._init():i=e.data(this,"stapel",new e.Stapel(t,this))});return i}}(jQuery,window),function(e,t,i,n){"use strict";var o=i("html"),a=i(e),r=i(t),l=i.fancybox=function(){l.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),d=null,c=t.createTouch!==n,u=function(e){return e&&e.hasOwnProperty&&e instanceof i},p=function(e){return e&&"string"===i.type(e)},h=function(e){return p(e)&&e.indexOf("%")>0},f=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},m=function(e,t){var i=parseInt(e,10)||0;return t&&h(e)&&(i=l.getViewport()[t]/100*i),Math.ceil(i)},g=function(e,t){return m(e,t)+"px"};i.extend(l,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==l.close(!0))?(i.isArray(e)||(e=u(e)?i(e).get():[e]),i.each(e,function(o,a){var r,s,d,c,h,f,m,g={};"object"===i.type(a)&&(a.nodeType&&(a=i(a)),u(a)?(g={href:a.data("fancybox-href")||a.attr("href"),title:a.data("fancybox-title")||a.attr("title"),isDom:!0,element:a},i.metadata&&i.extend(!0,g,a.metadata())):g=a),r=t.href||g.href||(p(a)?a:null),s=t.title!==n?t.title:g.title||"",d=t.content||g.content,c=d?"html":t.type||g.type,!c&&g.isDom&&(c=a.data("fancybox-type"),c||(h=a.prop("class").match(/fancybox\.(\w+)/),c=h?h[1]:null)),p(r)&&(c||(l.isImage(r)?c="image":l.isSWF(r)?c="swf":"#"===r.charAt(0)?c="inline":p(a)&&(c="html",d=a)),"ajax"===c&&(f=r.split(/\s+/,2),r=f.shift(),m=f.shift())),d||("inline"===c?r?d=i(p(r)?r.replace(/.*(?=#[^\s]+$)/,""):r):g.isDom&&(d=a):"html"===c?d=r:c||r||!g.isDom||(c="inline",d=a)),i.extend(g,{href:r,type:c,content:d,title:s,selector:m}),e[o]=g}),l.opts=i.extend(!0,{},l.defaults,t),t.keys!==n&&(l.opts.keys=t.keys?i.extend({},l.defaults.keys,t.keys):!1),l.group=e,l._start(l.opts.index)):void 0},cancel:function(){var e=l.coming;e&&!1!==l.trigger("onCancel")&&(l.hideLoading(),l.ajaxLoad&&l.ajaxLoad.abort(),l.ajaxLoad=null,l.imgPreload&&(l.imgPreload.onload=l.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),l.coming=null,l.current||l._afterZoomOut(e))},close:function(e){l.cancel(),!1!==l.trigger("beforeClose")&&(l.unbindEvents(),l.isActive&&(l.isOpen&&e!==!0?(l.isOpen=l.isOpened=!1,l.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),l.wrap.stop(!0,!0).removeClass("fancybox-opened"),l.transitions[l.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),l._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(l.player.timer)},i=function(){t(),l.current&&l.player.isActive&&(l.player.timer=setTimeout(l.next,l.current.playSpeed))},n=function(){t(),r.unbind(".player"),l.player.isActive=!1,l.trigger("onPlayEnd")},o=function(){l.current&&(l.current.loop||l.current.index<l.group.length-1)&&(l.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":t}),i(),l.trigger("onPlayStart"))};e===!0||!l.player.isActive&&e!==!1?o():n()},next:function(e){var t=l.current;t&&(p(e)||(e=t.direction.next),l.jumpto(t.index+1,e,"next"))},prev:function(e){var t=l.current;t&&(p(e)||(e=t.direction.prev),l.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var o=l.current;o&&(e=m(e),l.direction=t||o.direction[e>=o.index?"next":"prev"],l.router=i||"jumpto",o.loop&&(0>e&&(e=o.group.length+e%o.group.length),e%=o.group.length),o.group[e]!==n&&(l.cancel(),l._start(e)))},reposition:function(e,t){var n,o=l.current,a=o?o.wrap:null;a&&(n=l._getPosition(t),e&&"scroll"===e.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),o.pos=i.extend({},o.dim,n)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(d),d=null),l.isOpen&&!d&&(d=setTimeout(function(){var n=l.current;n&&!l.isClosing&&(l.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&n.autoResize)&&l._setDimension(),"scroll"===t&&n.canShrink||l.reposition(e),l.trigger("onUpdate"),d=null)},i&&!c?0:300))},toggle:function(e){l.isOpen&&(l.current.fitToView="boolean"===i.type(e)?e:!l.current.fitToView,c&&(l.wrap.removeAttr("style").addClass("fancybox-tmp"),l.trigger("onUpdate")),l.update())},hideLoading:function(){r.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;l.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(l.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),l.cancel())}),l.defaults.fixed||(t=l.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=l.current&&l.current.locked||!1,i={x:a.scrollLeft(),y:a.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=c&&e.innerWidth?e.innerWidth:a.width(),i.h=c&&e.innerHeight?e.innerHeight:a.height()),i},unbindEvents:function(){l.wrap&&u(l.wrap)&&l.wrap.unbind(".fb"),r.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,t=l.current;t&&(a.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),l.update),e=t.keys,e&&r.bind("keydown.fb",function(o){var a=o.which||o.keyCode,r=o.target||o.srcElement;return 27===a&&l.coming?!1:(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||r&&(r.type||i(r).is("[contenteditable]"))||i.each(e,function(e,r){return t.group.length>1&&r[a]!==n?(l[e](r[a]),o.preventDefault(),!1):i.inArray(a,r)>-1?(l[e](),o.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&l.wrap.bind("mousewheel.fb",function(e,n,o,a){for(var r=e.target||null,s=i(r),d=!1;s.length&&!(d||s.is(".fancybox-skin")||s.is(".fancybox-wrap"));)d=f(s[0]),s=i(s).parent();0===n||d||l.group.length>1&&!t.canShrink&&(a>0||o>0?l.prev(a>0?"down":"left"):(0>a||0>o)&&l.next(0>a?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,o=t||l.coming||l.current;if(o){if(i.isFunction(o[e])&&(n=o[e].apply(o,Array.prototype.slice.call(arguments,1))),n===!1)return!1;o.helpers&&i.each(o.helpers,function(t,n){n&&l.helpers[t]&&i.isFunction(l.helpers[t][e])&&l.helpers[t][e](i.extend(!0,{},l.helpers[t].defaults,n),o)}),r.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,o,a,r,s={};if(e=m(e),t=l.group[e]||null,!t)return!1;if(s=i.extend(!0,{},l.opts,t),a=s.margin,r=s.padding,"number"===i.type(a)&&(s.margin=[a,a,a,a]),"number"===i.type(r)&&(s.padding=[r,r,r,r]),s.modal&&i.extend(!0,s,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),s.autoSize&&(s.autoWidth=s.autoHeight=!0),"auto"===s.width&&(s.autoWidth=!0),"auto"===s.height&&(s.autoHeight=!0),s.group=l.group,s.index=e,l.coming=s,!1===l.trigger("beforeLoad"))return l.coming=null,void 0;if(o=s.type,n=s.href,!o)return l.coming=null,l.current&&l.router&&"jumpto"!==l.router?(l.current.index=e,l[l.router](l.direction)):!1;if(l.isActive=!0,("image"===o||"swf"===o)&&(s.autoHeight=s.autoWidth=!1,s.scrolling="visible"),"image"===o&&(s.aspectRatio=!0),"iframe"===o&&c&&(s.scrolling="scroll"),s.wrap=i(s.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body"),i.extend(s,{skin:i(".fancybox-skin",s.wrap),outer:i(".fancybox-outer",s.wrap),inner:i(".fancybox-inner",s.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){s.skin.css("padding"+t,g(s.padding[e]))}),l.trigger("onReady"),"inline"===o||"html"===o){if(!s.content||!s.content.length)return l._error("content")}else if(!n)return l._error("href");"image"===o?l._loadImage():"ajax"===o?l._loadAjax():"iframe"===o?l._loadIframe():l._afterLoad()},_error:function(e){i.extend(l.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:l.coming.tpl.error}),l._afterLoad()},_loadImage:function(){var e=l.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,l.coming.width=this.width/l.opts.pixelRatio,l.coming.height=this.height/l.opts.pixelRatio,l._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,l._error("image")},e.src=l.coming.href,e.complete!==!0&&l.showLoading()},_loadAjax:function(){var e=l.coming;l.showLoading(),l.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){l.coming&&"abort"!==t?l._error("ajax",e):l.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,l._afterLoad())}}))},_loadIframe:function(){var e=l.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(l.showLoading(),t.one("load",function(){i(this).data("ready",1),c||i(this).bind("load.fb",l.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),l._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||l._afterLoad()},_preloadImages:function(){var e,t,i=l.group,n=l.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(t=1;a>=t;t+=1)e=i[(n.index+t)%o],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,o,a,r,s=l.coming,d=l.current,c="fancybox-placeholder";if(l.hideLoading(),s&&l.isActive!==!1){if(!1===l.trigger("afterLoad",s,d))return s.wrap.stop(!0).trigger("onReset").remove(),l.coming=null,void 0;switch(d&&(l.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),l.unbindEvents(),e=s,t=s.content,n=s.type,o=s.scrolling,i.extend(l,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:d}),a=e.href,n){case"inline":case"ajax":case"html":e.selector?t=i("<div>").html(t).find(e.selector):u(t)&&(t.data(c)||t.data(c,i('<div class="'+c+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(c)).data(c,!1)}));break;case"image":t=e.tpl.image.replace("{href}",a);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',r="",i.each(e.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',r+=" "+e+'="'+i+'"'}),t+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}u(t)&&t.parent().is(e.inner)||e.inner.append(t),l.trigger("beforeShow"),e.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),l._setDimension(),l.reposition(),l.isOpen=!1,l.coming=null,l.bindEvents(),l.isOpened?d.prevMethod&&l.transitions[d.prevMethod]():i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),l.transitions[l.isOpened?e.nextMethod:e.openMethod](),l._preloadImages()}},_setDimension:function(){var e,t,n,o,a,r,s,d,c,u,p,f,v,y,b,_=l.getViewport(),C=0,w=!1,x=!1,I=l.wrap,k=l.skin,E=l.inner,S=l.current,$=S.width,T=S.height,B=S.minWidth,N=S.minHeight,P=S.maxWidth,A=S.maxHeight,L=S.scrolling,D=S.scrollOutside?S.scrollbarWidth:0,O=S.margin,M=m(O[1]+O[3]),j=m(O[0]+O[2]);if(I.add(k).add(E).width("auto").height("auto").removeClass("fancybox-tmp"),e=m(k.outerWidth(!0)-k.width()),t=m(k.outerHeight(!0)-k.height()),n=M+e,o=j+t,a=h($)?(_.w-n)*m($)/100:$,r=h(T)?(_.h-o)*m(T)/100:T,"iframe"===S.type){if(y=S.content,S.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(E.width(a).height(9999),b=y.contents().find("body"),D&&b.css("overflow-x","hidden"),r=b.outerHeight(!0))
}catch(V){}}else(S.autoWidth||S.autoHeight)&&(E.addClass("fancybox-tmp"),S.autoWidth||E.width(a),S.autoHeight||E.height(r),S.autoWidth&&(a=E.width()),S.autoHeight&&(r=E.height()),E.removeClass("fancybox-tmp"));if($=m(a),T=m(r),c=a/r,B=m(h(B)?m(B,"w")-n:B),P=m(h(P)?m(P,"w")-n:P),N=m(h(N)?m(N,"h")-o:N),A=m(h(A)?m(A,"h")-o:A),s=P,d=A,S.fitToView&&(P=Math.min(_.w-n,P),A=Math.min(_.h-o,A)),f=_.w-M,v=_.h-j,S.aspectRatio?($>P&&($=P,T=m($/c)),T>A&&(T=A,$=m(T*c)),B>$&&($=B,T=m($/c)),N>T&&(T=N,$=m(T*c))):($=Math.max(B,Math.min($,P)),S.autoHeight&&"iframe"!==S.type&&(E.width($),T=E.height()),T=Math.max(N,Math.min(T,A))),S.fitToView)if(E.width($).height(T),I.width($+e),u=I.width(),p=I.height(),S.aspectRatio)for(;(u>f||p>v)&&$>B&&T>N&&!(C++>19);)T=Math.max(N,Math.min(A,T-10)),$=m(T*c),B>$&&($=B,T=m($/c)),$>P&&($=P,T=m($/c)),E.width($).height(T),I.width($+e),u=I.width(),p=I.height();else $=Math.max(B,Math.min($,$-(u-f))),T=Math.max(N,Math.min(T,T-(p-v)));D&&"auto"===L&&r>T&&f>$+e+D&&($+=D),E.width($).height(T),I.width($+e),u=I.width(),p=I.height(),w=(u>f||p>v)&&$>B&&T>N,x=S.aspectRatio?s>$&&d>T&&a>$&&r>T:(s>$||d>T)&&(a>$||r>T),i.extend(S,{dim:{width:g(u),height:g(p)},origWidth:a,origHeight:r,canShrink:w,canExpand:x,wPadding:e,hPadding:t,wrapSpace:p-k.outerHeight(!0),skinSpace:k.height()-T}),!y&&S.autoHeight&&T>N&&A>T&&!x&&E.height("auto")},_getPosition:function(e){var t=l.current,i=l.getViewport(),n=t.margin,o=l.wrap.width()+n[1]+n[3],a=l.wrap.height()+n[0]+n[2],r={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&a<=i.h&&o<=i.w?r.position="fixed":t.locked||(r.top+=i.y,r.left+=i.x),r.top=g(Math.max(r.top,r.top+(i.h-a)*t.topRatio)),r.left=g(Math.max(r.left,r.left+(i.w-o)*t.leftRatio)),r},_afterZoomIn:function(){var e=l.current;e&&(l.isOpen=l.isOpened=!0,l.wrap.css("overflow","visible").addClass("fancybox-opened"),l.update(),(e.closeClick||e.nextClick&&l.group.length>1)&&l.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),l[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(l.skin).bind("click.fb",function(e){e.preventDefault(),l.close()}),e.arrows&&l.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(l.outer).bind("click.fb",l.prev),(e.loop||e.index<l.group.length-1)&&i(e.tpl.next).appendTo(l.outer).bind("click.fb",l.next)),l.trigger("afterShow"),e.loop||e.index!==e.group.length-1?l.opts.autoPlay&&!l.player.isActive&&(l.opts.autoPlay=!1,l.play()):l.play(!1))},_afterZoomOut:function(e){e=e||l.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(l,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),l.trigger("afterClose",e)}}),l.transitions={getOrigPosition:function(){var e=l.current,t=e.element,i=e.orig,n={},o=50,a=50,r=e.hPadding,s=e.wPadding,d=l.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),u(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),a=i.outerHeight())):(n.top=d.y+(d.h-a)*e.topRatio,n.left=d.x+(d.w-o)*e.leftRatio),("fixed"===l.wrap.css("position")||e.locked)&&(n.top-=d.y,n.left-=d.x),n={top:g(n.top-r*e.topRatio),left:g(n.left-s*e.leftRatio),width:g(o+s),height:g(a+r)}},step:function(e,t){var i,n,o,a=t.prop,r=l.current,s=r.wrapSpace,d=r.skinSpace;("width"===a||"height"===a)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),l.isClosing&&(i=1-i),n="width"===a?r.wPadding:r.hPadding,o=e-n,l.skin[a](m("width"===a?o:o-s*i)),l.inner[a](m("width"===a?o:o-s*i-d*i)))},zoomIn:function(){var e=l.current,t=e.pos,n=e.openEffect,o="elastic"===n,a=i.extend({opacity:1},t);delete a.position,o?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),l.wrap.css(t).animate(a,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:l._afterZoomIn})},zoomOut:function(){var e=l.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),l.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:l._afterZoomOut})},changeIn:function(){var e,t=l.current,i=t.nextEffect,n=t.pos,o={opacity:1},a=l.direction,r=200;n.opacity=.1,"elastic"===i&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[e]=g(m(n[e])-r),o[e]="+="+r+"px"):(n[e]=g(m(n[e])+r),o[e]="-="+r+"px")),"none"===i?l._afterZoomIn():l.wrap.css(n).animate(o,{duration:t.nextSpeed,easing:t.nextEasing,complete:l._afterZoomIn})},changeOut:function(){var e=l.previous,t=e.prevEffect,n={opacity:.1},o=l.direction,a=200;"elastic"===t&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"="+a+"px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},l.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(l.coming?l.coming.parent:e.parent),this.fixed=!1,e.fixed&&l.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return i(e.target).hasClass("fancybox-overlay")?(l.isActive?l.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(e).scrollLeft(t)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),s?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(i=r.width())):r.width()>a.width()&&(i=r.width()),this.overlay.width(i).height(r.height())},onReady:function(e,t){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=r.height()>a.height()?i("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,o;t.locked&&(this.margin!==!1&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=a.scrollTop(),o=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(n).scrollLeft(o)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!l.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},l.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,n,o=l.current,a=o.title,r=e.type;if(i.isFunction(a)&&(a=a.call(o.element,o)),p(a)&&""!==i.trim(a)){switch(t=i('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+a+"</div>"),r){case"inside":n=l.skin;break;case"outside":n=l.wrap;break;case"over":n=l.inner;break;default:n=l.skin,t.appendTo("body"),s&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),l.current.margin[2]+=Math.abs(m(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),o=this.selector||"",a=function(a){var r,s,d=i(this).blur(),c=t;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||d.is(".fancybox-wrap")||(r=e.groupAttr||"data-fancybox-group",s=d.attr(r),s||(r="rel",s=d.get(0)[r]),s&&""!==s&&"nofollow"!==s&&(d=o.length?i(o):n,d=d.filter("["+r+'="'+s+'"]'),c=d.index(this)),e.index=c,l.open(d,e)!==!1&&a.preventDefault())};return e=e||{},t=e.index||0,o&&e.live!==!1?r.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):n.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){var t,a;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(l.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),t=i(e).width(),o.addClass("fancybox-lock-test"),a=i(e).width(),o.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(a-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery);